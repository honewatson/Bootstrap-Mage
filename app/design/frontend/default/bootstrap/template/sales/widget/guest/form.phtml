<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2011 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
/** @var $this Mage_Sales_Block_Widget_Guest_Form */
?>
<?php if ($this->isEnable()): ?>
    <div class="<?php Bootstrap::compile('widget') ?>">
        <div class="<?php Bootstrap::compile('block-block-gr-search') ?>">
            <div class="<?php Bootstrap::compile('block-title') ?>">
                <h2><?php echo $this->__('Orders and Returns') ?></h2>
            </div>
            <div class="<?php Bootstrap::compile('block-content') ?>">
               <form id="oar_widget_orders_and_returns_form" action="<?php echo $this->getActionUrl() ?>" method="post" class="<?php Bootstrap::compile('search-form') ?>" name="guest_post">
                   <ul class="<?php Bootstrap::compile('form-alt') ?>">
                       <li>
                           <label class="<?php Bootstrap::compile('required') ?>"><?php echo Mage::helper('sales')->__('Find Order By:') ?></label>
                           <div class="<?php Bootstrap::compile('input-box') ?>">
                               <select name="oar_type" id="quick_search_type_id" class="<?php Bootstrap::compile('select') ?>" title="" onchange="showIdentifyBlock(this.value);">
                                   <option value="email">Email Address</option>
                                   <option value="zip">ZIP Code</option>
                               </select>
                           </div>
                       </li>
                       <li>
                           <label for="oar_order_id" class="<?php Bootstrap::compile('required') ?>"><?php echo Mage::helper('sales')->__('Order ID') ?> <em>*</em></label>
                           <div class="<?php Bootstrap::compile('input-box') ?>">
                               <input type="text" class="<?php Bootstrap::compile('input-text-required-entry') ?>" id="oar_order_id" name="oar_order_id"  autocomplete="off" />
                           </div>
                       </li>
                       <li>
                           <label for="oar_billing_lastname" class="<?php Bootstrap::compile('required') ?>"><?php echo Mage::helper('sales')->__('Billing Last Name') ?> <em>*</em></label>
                           <div class="<?php Bootstrap::compile('input-box') ?>">
                               <input type="text" class="<?php Bootstrap::compile('input-text-required-entry') ?>" id="oar_billing_lastname" name="oar_billing_lastname" autocomplete="off" />
                           </div>
                       </li>
                       <li id="oar-email">
                           <label for="oar_email" class="<?php Bootstrap::compile('required') ?>"><?php echo Mage::helper('sales')->__('Email Address') ?> <em>*</em></label>
                           <div class="<?php Bootstrap::compile('input-box') ?>">
                               <input type="text" class="<?php Bootstrap::compile('input-text-validate-email-required-entry') ?>" id="oar_email" name="oar_email" autocomplete="off" />
                           </div>
                       </li>
                       <li id="oar-zip" style="display:none;">
                           <label for="oar_zip" class="<?php Bootstrap::compile('required') ?>"><?php echo Mage::helper('sales')->__('Billing ZIP Code') ?> <em>*</em></label>
                           <div class="<?php Bootstrap::compile('input-box') ?>">
                               <input type="text" class="<?php Bootstrap::compile('input-text-required-entry') ?>" id="oar_zip" name="oar_zip" />
                           </div>
                       </li>
                   </ul>
                   <div class="<?php Bootstrap::compile('actions') ?>">
                       <button type="submit" title="Continue" class="<?php Bootstrap::compile('button') ?>"><span><span><?php echo Mage::helper('sales')->__('Continue') ?></span></span></button>
                   </div>
               </form>
            </div>
        </div>
    </div>
<script type="text/javascript">
//<![CDATA[
    if ($('quick_search_type_id').value == 'zip') {
        $('oar-zip').show();
        $('oar-email').hide();
    } else {
       $('oar-zip').hide();
       $('oar-email').show();
    }

   var dataForm = new VarienForm('oar_widget_orders_and_returns_form', true);

   function showIdentifyBlock(id)
   {
       if (id == 'zip') {
           $('oar-zip').show();
           $('oar-email').hide();
       } else if (id == 'email') {
           $('oar-zip').hide();
           $('oar-email').show();
       }
       return false;
   }
//]]>
</script>
<?php endif; ?>
